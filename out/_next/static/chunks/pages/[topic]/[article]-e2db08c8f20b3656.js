(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[349],{7457:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[topic]/[article]",function(){return n(3611)}])},973:function(e,t,n){"use strict";n.d(t,{zA:function(){return p},Ar:function(){return v}});var c=n(5893),s=n(7031),r=n(9417),i=n(9603),l=n(1664),a=n.n(l),o=n(7294);function d(e){let{text:t,url:n,blank:r=!1}=e;return(0,c.jsx)("div",{className:"",children:(0,c.jsx)(s.k,{href:n,className:"hover:bg-slate-950 px-3 py-3 mx-2 transition duration-200 ease-out hover:ease-in",target:r?"_blank":"_self",children:t})})}function x(e){let{text:t,url:n,blank:r=!1}=e;return(0,c.jsx)("div",{className:"px-5 py-1",children:(0,c.jsx)(s.k,{href:n,target:r?"_blank":"_self",children:t})})}function u(){let[e,t]=(0,o.useState)(!1);return(0,c.jsxs)("nav",{className:"bg-slate-900 text-white sticky top-0 z-50",children:[(0,c.jsxs)("div",{className:"mx-auto w-full max-w-5xl flex items-center py-2 px-3 h-full",children:[(0,c.jsx)(a(),{href:"/",children:(0,c.jsx)("img",{className:"h-12 w-auto",src:"/guide_banner.png",alt:"NTUCPC logo"})}),(0,c.jsxs)("div",{className:"max-sm:hidden flex",children:[(0,c.jsx)(d,{text:"章節目錄",url:"/chapters"}),(0,c.jsx)(d,{text:"主題目錄",url:"/topics"}),(0,c.jsx)(d,{text:"NCOJ",url:"https://oj.ntucpc.org/",blank:!0}),(0,c.jsx)(d,{text:"程式解題社",url:"https://ntucpc.org/",blank:!0})]}),(0,c.jsx)("div",{className:"sm:hidden ml-auto w-5",children:(0,c.jsx)("button",{className:"mx-auto",onClick:()=>{t(!e)},children:(0,c.jsx)(i.G,{className:e?"text-xl":"",icon:e?r.g82:r.xiG})})})]}),(0,c.jsxs)("div",{className:"bg-slate-950 py-2 sm:hidden ".concat(e?"":"hidden"),children:[(0,c.jsx)(x,{text:"章節目錄",url:"/chapters"}),(0,c.jsx)(x,{text:"主題目錄",url:"/topics"}),(0,c.jsx)(x,{text:"NCOJ",url:"https://oj.ntucpc.org/",blank:!0}),(0,c.jsx)(x,{text:"程式解題社",url:"https://ntucpc.org/",blank:!0})]})]})}var h=n(7962),f=n(9008),m=n.n(f);let j="lg:ml-80 2xl:mx-auto max-lg:mt-14";function p(e){let{children:t,sidebar:n=!1,maxWidth:s="4xl"}=e;return(0,c.jsx)("div",{className:"px-4 my-3 max-w-".concat(s," mx-auto pt-5 font-sans \n            ").concat(n?j:""),children:t})}function g(e){let{children:t,sidebar:n=!1}=e;return(0,c.jsxs)("footer",{className:"w-full max-w-4xl mx-auto px-3 mt-20 text-sm text-neutral-500\n            ".concat(n?j:""),children:[(0,c.jsxs)(h.nv,{children:["國立臺灣大學程式解題社",(0,c.jsx)("br",{}),"National Taiwan University",(0,c.jsx)("br",{}),"Competitive Porgramming Club",(0,c.jsx)("br",{})]}),(0,c.jsxs)(h.nv,{children:["This work is licensed under ",(0,c.jsx)(h.pD,{href:"https://creativecommons.org/licenses/by-sa/4.0/",children:"CC BY-SA 4.0"})]})]})}function v(e){let t=e.title?"".concat(e.title," - NTUCPC Guide"):"NTUCPC Guide";return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(m(),{children:[(0,c.jsx)("title",{children:t}),(0,c.jsx)("meta",{property:"og:title",content:t}),(0,c.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/favicon/apple-touch-icon.png"}),(0,c.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon/favicon-32x32.png"}),(0,c.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon/favicon-16x16.png"}),(0,c.jsx)("link",{rel:"manifest",href:"/favicon/site.webmanifest"}),(0,c.jsx)("link",{rel:"mask-icon",href:"/favicon/safari-pinned-tab.svg",color:"#6d5fff"}),(0,c.jsx)("link",{rel:"shortcut icon",href:"/favicon/favicon.ico"}),(0,c.jsx)("meta",{name:"msapplication-TileColor",content:"#000000"}),(0,c.jsx)("meta",{name:"msapplication-config",content:"/favicon/browserconfig.xml"}),(0,c.jsx)("meta",{name:"theme-color",content:"#ffffff"})]}),(0,c.jsx)(u,{}),e.children,(0,c.jsx)(g,{...e})]})}},7962:function(e,t,n){"use strict";n.d(t,{Gt:function(){return E},Lz:function(){return p},Mf:function(){return o},Mx:function(){return i},QI:function(){return w},RM:function(){return M},SC:function(){return G},VC:function(){return R},dE:function(){return l},iA:function(){return S},nR:function(){return r},nv:function(){return k},pD:function(){return _},pj:function(){return L},ss:function(){return F}});var c=n(5893),s=n(7031);let r=4,i="my-".concat(r),l=6,a=3,o="px-".concat(l," py-").concat(a),d="pl-6",x="mt-6",u="mt-7",h="mb-".concat(r),f="font-semibold",m="mt-[-120px] pt-[120px]",j="overflow-x-auto overflow-y-hidden";function p(e){return(0,c.jsx)("div",{className:"".concat(u," ").concat(h),children:(0,c.jsx)("h1",{className:"text-5xl ".concat(m," ").concat(f),...e})})}function g(e){return(0,c.jsxs)("div",{className:u,children:[(0,c.jsx)("h2",{className:"text-3xl mb-2 ".concat(m," ").concat(f),...e}),(0,c.jsx)("hr",{className:"mb-".concat(r)})]})}function v(e){return(0,c.jsx)("div",{className:"".concat(x," ").concat(h),children:(0,c.jsx)("h3",{className:"text-2xl ".concat(m," ").concat(f),...e})})}function b(e){return(0,c.jsx)("div",{className:"".concat(x," ").concat(h),children:(0,c.jsx)("h4",{className:"text-xl ".concat(m," ").concat(f),...e})})}function N(e){return(0,c.jsx)("div",{className:"".concat(x," ").concat(h),children:(0,c.jsx)("h5",{className:"text-lg ".concat(m," ").concat(f),...e})})}function y(e){return(0,c.jsx)("div",{className:"".concat(x," ").concat(h),children:(0,c.jsx)("h6",{className:"text-base ".concat(m," ").concat(f),...e})})}function k(e){return(0,c.jsx)("p",{className:"".concat(i," text-justify ").concat(j),...e})}function C(e){return(0,c.jsx)("blockquote",{className:"border-s-4 pl-3 text-gray-500 border-gray-200 ".concat(i),...e})}function w(e){return(0,c.jsx)("ul",{className:"list-disc ".concat(d," ").concat(j," text-justify"),...e})}function T(e){return(0,c.jsx)("ul",{className:"list-decimal ".concat(d," ").concat(j," text-justify"),...e})}function E(e){return(0,c.jsx)(s.k,{className:"text-indigo-500 hover:text-indigo-700",...e})}function _(e){return(0,c.jsx)(E,{target:"_blank",...e})}function A(){return(0,c.jsx)("hr",{className:"my-8 border-indigo-300"})}function S(e){return(0,c.jsx)("table",{className:"m-4",...e})}function F(e){return(0,c.jsx)("thead",{className:"border-t-2 border-b-2",...e})}function M(e){return(0,c.jsx)("tbody",{className:"border-b-2",...e})}function G(e){return(0,c.jsx)("tr",{className:"border-b hover:bg-slate-100",...e})}function D(e){return(0,c.jsx)("th",{className:"px-3 py-1",...e})}function L(e){return(0,c.jsx)("td",{className:"px-3 py-1",...e})}function R(){return{h1:p,h2:g,h3:v,h4:b,h5:N,h6:y,p:k,blockquote:C,ul:w,ol:T,a:_,hr:A,table:S,thead:F,tbody:M,tr:G,th:D,td:L}}},7031:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var c=n(5893),s=n(1664),r=n.n(s);function i(e){return e.href.startsWith("/")?(0,c.jsx)(r(),{...e}):(0,c.jsx)("a",{...e})}},8680:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return MathJaxJS}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5893),next_script__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4298),next_script__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(next_script__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(7294);function MathJaxJS(){let[isClient,setIsClient]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1);(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{setIsClient(!0)},[]);let mathJaxConfig="\n    MathJax.Hub.Config({\n        tex2jax: {\n            inlineMath: [ ['$','$'], [\"\\\\(\",\"\\\\)\"] ],\n            displayMath: [ ['$$','$$'], [\"\\\\[\",\"\\\\]\"] ],\n            processEscapes: false\n        },\n    });\n    ";return isClient?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_script__WEBPACK_IMPORTED_MODULE_1___default(),{type:"text/x-mathjax-config",children:mathJaxConfig}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_script__WEBPACK_IMPORTED_MODULE_1___default(),{async:!0,src:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS_HTML",onReady:()=>{eval('MathJax.Hub.Queue(["Typeset", MathJax.Hub]);')}})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{})}},6234:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function reloadHighlightJs(){let notLoadedOk=arguments.length>0&&void 0!==arguments[0]&&arguments[0],codeBlocks=document.getElementsByClassName("refcode");for(let i=0;i<codeBlocks.length;i++)if("yes"===codeBlocks[i].getAttribute("data-highlighted"))return;console.log("reload hljs"),eval("\n        try {\n            hljs.highlightAll()\n            hljs.initLineNumbersOnLoad({singleLine: true})\n        }\n        catch (e) {\n            if (e instanceof ReferenceError) {\n                if (!".concat(notLoadedOk,')\n                    console.log("HighlightJS has not been loaded")\n            }\n            else {\n                console.log("Cannot reload HighlightJS")\n                console.log(e)\n            }\n        }\n    '))}function reloadMathJax(){let notLoadedOk=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("reload MathJax"),eval('\n    try {\n        MathJax.Hub.Queue(["Typeset", MathJax.Hub])\n    }\n    catch (e) {\n        if (e instanceof ReferenceError) {\n            if (!'.concat(notLoadedOk,')\n                console.log("HighlightJS has not been loaded")\n        }\n        else {\n            console.log("Cannot reload MathJax")\n            console.log(e)\n        }\n    }\n    '))}__webpack_require__.d(__webpack_exports__,{G:function(){return reloadMathJax},Y:function(){return reloadHighlightJs}})},3611:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return U},default:function(){return V}});var c,s=n(5893),r=n(9603),i=n(9417),l=n(4288),a=n(7962),o=n(7294);function d(e){return t=>{let n=(0,s.jsx)(s.Fragment,{});if(t.descriptionMdx){let c={...e,mdx_path:t.descriptionMdx};n=(0,s.jsx)(C,{context:c})}let c=(0,s.jsx)(s.Fragment,{});if(t.constraintsMdx){let n={...e,mdx_path:t.constraintsMdx};c=(0,s.jsx)(C,{context:n})}let d=(0,s.jsx)(s.Fragment,{});if(t.solutionMdx){let n={...e,mdx_path:t.solutionMdx};d=(0,s.jsx)(C,{context:n})}let x=(0,s.jsx)(s.Fragment,{});"?"===t.difficulty?x=(0,s.jsx)(r.G,{icon:i.Fuz}):"0"!==t.difficulty&&(x=(0,s.jsx)(s.Fragment,{children:Array.from({length:5},(e,n)=>n<parseInt(t.difficulty)?(0,s.jsx)(r.G,{icon:i.Tab},n):(0,s.jsx)(r.G,{icon:l.Tab},n))}));let u="0"===t.difficulty,h=u?"bg-orange-400":"bg-blue-400",f=u?"bg-orange-200 text-orange-800":"bg-blue-200 text-blue-800",m=u?"border-orange-500":"border-blue-500",[j,p]=(0,o.useState)("true"===t.expanded);return(0,s.jsxs)("div",{className:"my-4",children:[(0,s.jsxs)("div",{className:"flex ".concat(f),children:[(0,s.jsxs)("div",{className:"py-2 px-5 font-bold ".concat(h," text-white flex"),children:[u?"例題":"習題",u?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)("div",{className:"ml-2",children:x})]}),(0,s.jsxs)("div",{className:"py-2 px-3",children:[" ",t.name," "]})]}),(0,s.jsxs)("div",{className:"px-6 py-2 border-l border-r border-b ".concat(m),children:[(0,s.jsxs)("div",{className:"text-sm text-neutral-400",children:["Source:",t.url?(0,s.jsxs)(a.pD,{href:t.url,className:"ml-2",children:[t.src,(0,s.jsx)(r.G,{icon:i.wlW,className:"text-xs ml-2"})]}):(0,s.jsx)("span",{className:"ml-2",children:t.src})]}),(0,s.jsxs)("div",{children:[n,t.constraintsMdx?(0,s.jsxs)("details",{className:"my-4",children:[(0,s.jsx)("summary",{className:"cursor-pointer",children:"條件限制"}),c]}):(0,s.jsx)(s.Fragment,{})]})]}),t.solution&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mt-2 py-2 px-5 font-bold text-white bg-green-600 flex justify-between cursor-pointer",onClick:()=>{p(!j)},children:[(0,s.jsx)("div",{className:"select-none",children:"題解"}),(0,s.jsx)("div",{children:(0,s.jsx)(r.G,{icon:j?i.mTx:i.ptq})})]}),(0,s.jsx)("div",{className:"px-6 py-2 border-l border-r border-b border-green-800",hidden:!j,children:d})]})]})}}function x(e){let t;return t="article"===e.mode?e.articleTitle:"".concat(e.topicTitle," / ").concat(e.articleTitle),(0,s.jsx)(a.pD,{href:"/".concat(e.code),children:t})}function u(e){return(0,s.jsx)("img",{className:"mx-auto my-2",alter:e.src,...e})}function h(e){let t={info:"sky",warning:"amber",danger:"rose",success:"lime"}[e.type],n="bg-".concat(t,"-100 border-").concat(t,"-500 text-").concat(t,"-800"),c={info:i.DBf,warning:i.ik8,danger:i.gPx,success:i.fV7},l=(0,s.jsx)(r.G,{icon:c[e.type]});return(0,s.jsxs)("div",{className:"flex border my-4 ".concat(a.Mf," pl-").concat(a.dE-1," ").concat(a.Mx," ").concat(n),children:[(0,s.jsx)("div",{className:"w-min mr-3 my-".concat(a.nR),children:l}),(0,s.jsx)("div",{children:e.children})]})}function f(e){var t;let n=null!==(t=e.lang)&&void 0!==t?t:"plaintext",c=e.lineno,r=e.code,i=e.startFrom,l="".concat("true"===c?"":"nohljsln"," language-").concat(n," refcode");return(0,s.jsx)("div",{className:"my-4",children:(0,s.jsx)("pre",{children:(0,s.jsx)("code",{className:l,"data-ln-start-from":i,children:r})})})}function m(e){var t;return(0,s.jsxs)("details",{className:"".concat(a.Mx),children:[(0,s.jsx)("summary",{className:"cursor-pointer select-none",children:null!==(t=e.title)&&void 0!==t?t:"Spoiler"}),(0,s.jsx)("div",{className:"border ".concat(a.Mf," mt-3"),children:e.children})]})}let j={theorem:"Theorem",definition:"Definition",lemma:"Lemma",corollary:"Corollary",observation:"Observation",tips:"Tips"};function p(e){let t={theorem:"indigo",definition:"sky",lemma:"green",corollary:"orange",observation:"rose",tips:"lime"},n=e.type,c=e.number,r=t[n],i="bg-".concat(r,"-400 text-white"),l="bg-".concat(r,"-200 text-").concat(r,"-800"),o="border-".concat(r,"-500"),d="py-2 px-5 font-bold ".concat(i),x="".concat(a.Mf," border-l border-r border-b ").concat(o);return(0,s.jsxs)("div",{className:"my-4 ",children:[(0,s.jsxs)("div",{className:"flex ".concat(l),children:[(0,s.jsx)("div",{className:d,children:"".concat(j[n]," ").concat(c)}),(0,s.jsx)("div",{className:"py-2 px-3",children:(0,s.jsx)("div",{className:"mt-[-120px] pt-[120px]",id:"".concat(n,"-").concat(e.refId),children:e.title})})]}),(0,s.jsxs)("div",{className:x,children:[" ",e.children," "]})]})}function g(e){return(0,s.jsxs)("div",{className:"border ".concat(a.Mf," border-indigo-300 my-4"),children:[(0,s.jsxs)("div",{className:"font-bold my-2 text-indigo-600",children:[(0,s.jsx)(r.G,{icon:i.IwR,className:"mr-1"}),"證明："]}),(0,s.jsx)("div",{children:e.children}),(0,s.jsx)("div",{className:"flex justify-end my-2 text-indigo-600",children:(0,s.jsx)(r.G,{icon:i.pL1})})]})}function v(e){let t;switch(e.mode){case"default":case"number":t="".concat(j[e.type]," ").concat(e.number,".");break;case"title":t="".concat(e.title);break;case"full":t="".concat(j[e.type]," ").concat(e.number,". ").concat(e.title)}return(0,s.jsx)(a.Gt,{href:"#".concat(e.type,"-").concat(e.refId),children:t})}function b(){return{Theorem:p,Proof:g,TheoremReference:v}}function N(){return{...(0,a.VC)(),Info:h,Spoiler:m,...b(),Refcode:f,Figure:u}}function y(e){return{Problem:d(e),ContentReference:x,...N()}}var k=n(4349);function C(e){let{context:t}=e;y(t);let n=t.contents_mapping.get(t.mdx_path);if(n)return(0,s.jsx)(k.R,{...n,components:y(t)});throw Error("Mdx content not found: ".concat(t.mdx_path))}var w=n(4298),T=n.n(w);function E(){let[e,t]=(0,o.useState)(!1);(0,o.useEffect)(()=>{t(!0)},[]);let n='\n    (async () => {\n        function loadExternalScript(url) {\n            return new Promise((resolve, reject) => {\n                try {\n                    const elem = document.createElement("script");\n                    elem.src = url;\n                    elem.type = "text/javascript";\n                    elem.async = false;\n\n                    elem.addEventListener("load", () => {\n                        // successfully loaded external script\n                        resolve({ status: true });\n                    });\n                    elem.addEventListener("error", () => {\n                        // failed to load external script\n                        reject({\n                            status: false,\n                            message: "loading script [" + url + "] failed"\n                        })\n                    });\n\n                    document.body.appendChild(elem);\n                } catch(error) {\n                    reject(error);\n                }\n            });\n        }\n        await loadExternalScript("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js");\n        await loadExternalScript("https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"),\n        hljs.highlightAll();\n        hljs.initLineNumbersOnLoad({singleLine: true});\n    })();\n    ';return e?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(T(),{children:n})}):(0,s.jsx)(s.Fragment,{})}var _=n(8680),A=n(973),S=n(7031),F=n(6234),M=n(1163);function G(e){return(0,s.jsx)("div",{className:"cursor-pointer text-nowrap px-3 py-2 font-semibold\n                hover:bg-indigo-100 hover:text-indigo-600 select-none\n                ".concat(e.active?"bg-indigo-100 text-indigo-600":""),onClick:e.onClick,children:e.text})}function D(e){return(0,s.jsx)("div",{className:"mb-1",children:(0,s.jsx)("span",{className:"px-2 py-1 text-indigo-600 font-semibold select-none hover:bg-indigo-100 cursor-pointer",onClick:e.effect,children:e.children})})}function L(e){return(0,s.jsx)("span",{className:"px-2 rounded ".concat(e.effect?"text-indigo-500 hover:text-indigo-700 hover:bg-indigo-100 cursor-pointer":"text-gray-500"," select-none"),onClick:e.effect,children:e.children})}function R(e){return(0,s.jsxs)("div",{className:"text-lg font-semibold mb-3 flex justify-between ".concat(e.page?"":"pl-2"),children:[e.page?(0,s.jsx)(L,{effect:e.left,children:(0,s.jsx)(r.G,{icon:i.A35})}):(0,s.jsx)(s.Fragment,{}),e.text,e.page?(0,s.jsx)(L,{effect:e.right,children:(0,s.jsx)(r.G,{icon:i._tD})}):(0,s.jsx)(s.Fragment,{})]})}function z(e){return(0,s.jsx)("div",{className:"font-semibold mb-2 mt-3",children:e.text})}function J(e){return(0,s.jsx)("div",{className:"w-full border-l-4 hover:border-indigo-600 hover:bg-indigo-100 hover:text-indigo-600 hover:font-semibold\n            ".concat(e.active?"border-indigo-600 bg-indigo-100 text-indigo-600 font-semibold":"border-gray-200"),children:"string"==typeof e.effect?(0,s.jsx)(S.k,{className:"pl-2 py-2 block",href:e.effect,children:e.children}):(0,s.jsx)("div",{className:"pl-2 py-2 cursor-pointer",onClick:e.effect,children:e.children})})}function P(e){let{children:t}=e;return(0,s.jsx)("div",{className:"flex-shrink-0 mx-5",children:t})}function H(e){let{children:t}=e;return(0,s.jsx)("div",{className:"flex-grow overflow-y-scroll\n                        scrollbar-thumb-rounded-full scrollbar-track-rounded-full scrollbar-thin \n                        scrollbar-thumb-zinc-300 scrollbar-track-slate-50\n                        pb-32 pr-2 ml-5",children:t})}function I(e){let t=[];e.topicStructure.forEach(e=>{e.topics.forEach(e=>t.push(e))});let[n,c]=(0,o.useState)(0),[l,a]=(0,o.useState)(!1),d=e.chapterStructure.find(t=>t.code===e.virtualArticle.chapterCode),x=t.find(t=>t.code===e.virtualArticle.topicCode),[u,h]=(0,o.useState)(d),[f,m]=(0,o.useState)(x),j=(0,M.useRouter)(),p=()=>{h(d),m(x)};(0,o.useEffect)(()=>(j.events.on("routeChangeComplete",p),()=>{j.events.off("routeChangeComplete",p)}),[j]),(0,o.useEffect)(()=>{(0,F.G)(!0)},[n,l,u,f]);let[g,v]=(0,o.useState)(""),b=[],N=()=>{let e=window.scrollY,t="";for(let n of b)e>=n.start&&(t=n.section.code);t!==g&&v(t)},y=()=>{b.length=0,e.sections.forEach(e=>{if(e.depth>=3)return;let t=document.getElementById("section-".concat(e.code)).getBoundingClientRect().top-document.body.getBoundingClientRect().top;b.push({section:e,start:t})})};(0,o.useEffect)(()=>(y(),window.addEventListener("scroll",N,{passive:!0}),()=>{window.removeEventListener("scroll",N)}),[e.sections,g]);let k=(()=>{let t=[],n=0;if(!u)return e.chapterStructure.forEach(c=>{t.push((0,s.jsx)(J,{effect:()=>{h(c)},active:c.code===e.virtualArticle.chapterCode,children:c.displayTitle},n++))}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(P,{children:[(0,s.jsxs)(D,{effect:()=>{h(d)},children:[(0,s.jsx)(r.G,{icon:i.A35})," ",null==d?void 0:d.displayTitle]},n++),(0,s.jsx)(R,{text:"章節目錄"},n++)]}),(0,s.jsx)(H,{children:t})]});{let c=e.chapterStructure.findIndex(e=>e.code===u.code),r=c>0?e.chapterStructure[c-1]:void 0,i=c+1<e.chapterStructure.length?e.chapterStructure[c+1]:void 0;return u.topics.forEach(c=>{t.push((0,s.jsx)(z,{text:c.displayTitle},n++)),c.articles.forEach(c=>{t.push((0,s.jsx)(J,{effect:"/".concat(c.code),active:c.code===e.virtualArticle.code,children:c.articleDisplayTitle},n++))})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(P,{children:[(0,s.jsx)(D,{effect:()=>{h(void 0)},children:"章節目錄"},n++),(0,s.jsx)(R,{text:u.displayTitle,page:!0,left:r?()=>{h(r)}:void 0,right:i?()=>{h(i)}:void 0},n++)]}),(0,s.jsx)(H,{children:t})]})}})(),C=(()=>{let t=[],n=0;if(f)return f.articles.forEach(c=>{t.push((0,s.jsx)(J,{effect:"/".concat(c.code),active:c.code===e.virtualArticle.code,children:c.articleDisplayTitle},n++))}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(P,{children:[(0,s.jsx)(D,{effect:()=>{m(void 0)},children:"主題目錄"},n++),(0,s.jsx)(R,{text:f.displayTitle},n++)]}),(0,s.jsx)(H,{children:t})]});{let c=!1;return e.topicStructure.forEach(r=>{if(r.single){c&&(t.push((0,s.jsx)(z,{text:""},n++)),c=!1);let i=r.topics[0];t.push((0,s.jsx)(J,{effect:()=>{m(i)},active:i.code===e.virtualArticle.topicCode,children:i.displayTitle},n++))}else c=!0,t.push((0,s.jsx)(z,{text:r.title},n++)),r.topics.forEach(c=>{t.push((0,s.jsx)(J,{effect:()=>{m(c)},active:c.code===e.virtualArticle.topicCode,children:c.displayTitle},n++))})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(P,{children:[(0,s.jsxs)(D,{effect:()=>{m(x)},children:[(0,s.jsx)(r.G,{icon:i.A35})," ",null==x?void 0:x.displayTitle]},n++),(0,s.jsx)(R,{text:"主題目錄"},n++)]}),(0,s.jsx)(H,{children:t})]})}})(),w=(()=>{let t=[],n=0;for(let c of e.sections)c.depth>=3||t.push((0,s.jsx)(J,{effect:"#section-".concat(c.code),active:c.code===g||g.startsWith("".concat(c.code,".")),children:(0,s.jsx)("div",{className:2==c.depth?"ml-3":"",children:c.text})},n++));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(P,{children:(0,s.jsx)(R,{text:e.virtualArticle.articleDisplayTitle},n++)}),(0,s.jsx)(H,{children:t})]})})(),T=(0,s.jsx)(s.Fragment,{});switch(n){case 0:T=w;break;case 1:T=k;break;case 2:T=C}return(0,s.jsxs)("aside",{className:"print:hidden",children:[(0,s.jsxs)("div",{className:"fixed w-full lg:hidden text-black bg-slate-50 z-30 p-3 cursor-pointer ".concat(""),onClick:()=>{a(!0)},children:[(0,s.jsx)(r.G,{className:"mr-1",icon:i.ccb})," 打開目錄"]}),(0,s.jsx)("div",{className:"".concat(l?"":"hidden"," lg:hidden\n                fixed inset-0 bg-gray-900 bg-opacity-50 z-40"),onClick:()=>a(!1)}),(0,s.jsxs)("div",{className:"fixed text-black z-50 w-72 h-screen pb-20 bg-slate-50 ".concat(l?"":"max-lg:hidden","\n                        "),children:[(0,s.jsx)("div",{className:"absolute z-50 p-3 flex items-center \n                    justify-center cursor-pointer lg:hidden ".concat(l?"":"hidden"),onClick:()=>{a(!1)},children:(0,s.jsx)(r.G,{className:"text-lg",icon:i.g82})}),(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"flex-shrink-0 flex justify-evenly mt-8 mb-5 mx-5",children:[(0,s.jsx)(G,{text:"本文",onClick:()=>c(0),active:0===n}),(0,s.jsx)(G,{text:"章節",onClick:()=>c(1),active:1===n}),(0,s.jsx)(G,{text:"主題",onClick:()=>c(2),active:2===n})]}),T]})]})]})}function O(e){let{name:t,children:n,icon:c}=e;return(0,s.jsxs)("div",{className:"flex my-2",children:[(0,s.jsx)("div",{className:"w-7 text-center text-indigo-500",children:(0,s.jsx)(r.G,{icon:c})}),(0,s.jsxs)("div",{className:"ml-1",children:[t,"：",n]})]})}function B(e){let t=[],n=!0,c=0;for(let r of e.prereqs)n?n=!1:t.push("、"),t.push((0,s.jsx)(a.pD,{href:"/".concat(r.code),children:r.text},c++));let r=e.virtualArticle.article;return(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("div",{className:"text-xl",children:e.virtualArticle.chapterDisplayTitle}),(0,s.jsx)("div",{className:"text-2xl text-gray-500 pt-1",children:e.virtualArticle.topicDisplayTitle}),(0,s.jsx)("div",{className:"text-5xl mt-1 mb-4",children:e.virtualArticle.articleDisplayTitle}),(0,s.jsx)(O,{name:"作者",icon:i.iDc,children:r.authors.join("、")}),r.contributors.length>0?(0,s.jsx)(O,{name:"協作者",icon:i.NdV,children:r.contributors.join("、")}):(0,s.jsx)(s.Fragment,{}),e.prereqs.length>0?(0,s.jsxs)(O,{name:"先備知識",icon:i.FL8,children:[t," "]}):(0,s.jsx)(s.Fragment,{})]})}function $(e){let{side:t,article:n}=e;return(0,s.jsx)("div",{className:"flex sm:w-64 ".concat("left"===t?"justify-start":"justify-end"),children:n?(0,s.jsx)(S.k,{href:"/".concat(n.code),className:"text-indigo-500 block p-3 hover:text-indigo-700 hover:bg-indigo-100",children:(0,s.jsxs)("div",{className:"flex items-center ".concat("left"===t?"justify-start":"justify-end"),children:["left"===t?(0,s.jsx)(r.G,{icon:i.A35,className:"mr-2"}):(0,s.jsx)(s.Fragment,{}),(0,s.jsxs)("div",{className:"max-sm:hidden",children:[n.topicDisplayTitle," /",(0,s.jsx)("br",{})," ",n.articleDisplayTitle]}),"right"===t?(0,s.jsx)(r.G,{icon:i._tD,className:"ml-2"}):(0,s.jsx)(s.Fragment,{})]})}):(0,s.jsx)("div",{className:"p-3 text-gray-500",children:(0,s.jsx)(r.G,{icon:"left"===t?i.A35:i._tD})})})}function q(e){let{previousArticle:t,nextArticle:n,virtualArticle:c}=e;return(0,s.jsxs)("div",{className:"flex mt-20 justify-between items-center",children:[(0,s.jsx)($,{side:"left",article:t}),(0,s.jsx)("div",{className:"font-semibold p-3 text-nowrap",children:c.chapterDisplayTitle}),(0,s.jsx)($,{side:"right",article:n})]})}!function(e){e[e.Article=0]="Article",e[e.Chapter=1]="Chapter",e[e.Topic=2]="Topic"}(c||(c={}));var U=!0;function V(e){let{props:t}=e,n={mdx_path:t.mdxPath,contents_mapping:new Map(t.content)},c=(0,M.useRouter)(),r=()=>{(0,F.Y)(),(0,F.G)()};return(0,o.useEffect)(()=>(c.events.on("routeChangeComplete",r),()=>{c.events.off("routeChangeComplete",r)}),[c]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(A.Ar,{sidebar:!0,title:t.virtualArticle.articleDisplayTitle,children:[(0,s.jsx)(I,{...t}),(0,s.jsxs)(A.zA,{sidebar:!0,children:[(0,s.jsx)(B,{...t}),(0,s.jsx)(C,{context:n}),(0,s.jsx)(q,{...t})]})]}),(0,s.jsx)(E,{}),(0,s.jsx)(_.Z,{})]})}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[976,722,172,888,774,179],function(){return t(7457)}),_N_E=e.O()}]);